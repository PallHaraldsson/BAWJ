<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Blog · BAWJ</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="BAWJ logo"/></a><div class="docs-package-name"><span class="docs-autofit">BAWJ</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Business Applications with Julia</a></li><li class="is-active"><a class="tocitem" href>Blog</a><ul class="internal"><li><a class="tocitem" href="#-1"><span>2020</span></a></li><li><a class="tocitem" href="#-3"><span>2019</span></a></li></ul></li><li><span class="tocitem">Section 1</span><ul><li><a class="tocitem" href="../chapter1/">1 - Intro Notebook</a></li><li><a class="tocitem" href="../chapter2/">2 - Overview Julia</a></li></ul></li><li><span class="tocitem">Section 2 - Building the application</span><ul><li><a class="tocitem" href="../chapter3/">3 - The design</a></li><li><a class="tocitem" href="../chapter4/">4 - Implementing the design</a></li><li><a class="tocitem" href="../chapter5/">5 - Creating modules</a></li><li><a class="tocitem" href="../chapter6/">6 - Testing the application</a></li></ul></li><li><span class="tocitem">Section 3 - Modules</span><ul><li><a class="tocitem" href="../chapter7/">7 - Writing test software</a></li><li><a class="tocitem" href="../chapter8/">8 - Documenting the modules</a></li></ul></li><li><span class="tocitem">Section 4 - SSH enabled containers</span><ul><li><a class="tocitem" href="../chapter9/">9 - Introduction</a></li><li><a class="tocitem" href="../chapter10/">10 - Create SSH enabled Containers</a></li><li><a class="tocitem" href="../chapter11/">11 - Raspberry Pi</a></li></ul></li><li><span class="tocitem">Section 5 Up and running</span><ul><li><a class="tocitem" href="../chapter12/">12 - Running functions remote</a></li><li><a class="tocitem" href="../chapter13/">13 - Running the containers</a></li><li><a class="tocitem" href="../chapter14/">14 - Logging</a></li><li><a class="tocitem" href="../chapter19/">19 - Activity diagrams</a></li><li><a class="tocitem" href="../chapter20/">20 - Using Remote Channels (old stuff)</a></li></ul></li><li><a class="tocitem" href="../appendix/">Appendix</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Blog</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Blog</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rbontekoe/BAWJ/blob/master/docs/src/blog.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Blog-1"><a class="docs-heading-anchor" href="#Blog-1">Blog</a><a class="docs-heading-anchor-permalink" href="#Blog-1" title="Permalink"></a></h1><h2 id="-1"><a class="docs-heading-anchor" href="#-1">2020</a><a class="docs-heading-anchor-permalink" href="#-1" title="Permalink"></a></h2><h3 id="-2"><a class="docs-heading-anchor" href="#-2"></a><a class="docs-heading-anchor-permalink" href="#-2" title="Permalink"></a></h3><h3 id="/10/2020-SQLite-problem-Raspberry-Pi-1"><a class="docs-heading-anchor" href="#/10/2020-SQLite-problem-Raspberry-Pi-1">04/10/2020 - SQLite problem Raspberry Pi</a><a class="docs-heading-anchor-permalink" href="#/10/2020-SQLite-problem-Raspberry-Pi-1" title="Permalink"></a></h3><p>There is a problem with making a connection from a docker container on my Ubuntu laptop to a container on a Raspberry Pi 3+. I posted a question on  <code>discourse.</code></p><p>See <a href="https://discourse.julialang.org/t/addprocs-gives-connection-refused-to-a-docker-container-on-raspberry-pi/35640">Addprocs gives connection refused to a docker container on raspberry pi</a></p><p>Now I consider using HTTP.jl (or Pages.jl) to inform the application to retrieve an image from my Raspi with scp.</p><h3 id="/04/2020-Documentation-AppliInvoicing-module-1"><a class="docs-heading-anchor" href="#/04/2020-Documentation-AppliInvoicing-module-1">04/04/2020 - Documentation AppliInvoicing module</a><a class="docs-heading-anchor-permalink" href="#/04/2020-Documentation-AppliInvoicing-module-1" title="Permalink"></a></h3><p>I have completed the documentation for <a href="https://www.appligate.nl/AppliInvoicing.jl/">ApplInvoicing.jl</a></p><h3 id="/03/2020-1"><a class="docs-heading-anchor" href="#/03/2020-1">03/03/2020</a><a class="docs-heading-anchor-permalink" href="#/03/2020-1" title="Permalink"></a></h3><p>Created documentation for the module <a href="https://www.appligate.nl/AppliGeneralLedger.jl/">AppliGeneralLedger</a>.</p><p>Master code runs successfully in a Docker container.</p><h3 id="/27/2020-dispatcher-is-working-1"><a class="docs-heading-anchor" href="#/27/2020-dispatcher-is-working-1">02/27/2020 - dispatcher is working</a><a class="docs-heading-anchor-permalink" href="#/27/2020-dispatcher-is-working-1" title="Permalink"></a></h3><p>SQLite gave problems with AppliGeneralLedger. I suspected it had something to do with multi-user issues. So I decided to experiment with Jula&#39;s open/read/write file functions.  The result was very positive, so I changed the code in AppliGeneralLedger.</p><p>The test with remote channels went well. AppliMaster contains the code.</p><h3 id="/20/2020-addproc(4)-1"><a class="docs-heading-anchor" href="#/20/2020-addproc(4)-1">02/20/2020 - addproc(4)</a><a class="docs-heading-anchor-permalink" href="#/20/2020-addproc(4)-1" title="Permalink"></a></h3><p>In the past, I used Julia v1.1.0 and SQLite v0.8.x. I use a local channel with a dispatcher. It routes the data to the right task, which runs a Julia function remote. The application ran smoothly. The problem started when I switched to SQLite.jl v1.0.1. First, I thought that SQLite was causing the problem. However, the sample code uses only the AppliSales module, which doesn’t use SQLite.</p><p>I posted the problem on discourse.julialang.org: <a href="https://discourse.julialang.org/t/distributed-computing-not-found-package-error/34851">Distributed computing, not found package error</a>. @pfitzseb gave the solution:</p><p>Try</p><pre><code class="language-none">addprocs(n_procs; exeflags=`--project=$(Base.active_project())`)</code></pre><p>instead – the currently active environment doesn’t propagate to processes started by addprocs by default.</p><p>Now the application runs smoothly again. Thank you, `@pfitzseb.</p><h3 id="/07/2020-1"><a class="docs-heading-anchor" href="#/07/2020-1">02/07/2020</a><a class="docs-heading-anchor-permalink" href="#/07/2020-1" title="Permalink"></a></h3><p>Chapter 4, 5 en 6 are ready for a final check.</p><h3 id="/05/2020-1"><a class="docs-heading-anchor" href="#/05/2020-1">02/05/2020</a><a class="docs-heading-anchor-permalink" href="#/05/2020-1" title="Permalink"></a></h3><p>While working on the AppliMaster module, I got yesterday the impression that I should always be working with the local package repository, <code>] active .</code>:</p><ul><li><p>Adding packages will update <code>Project.toml</code>, the file with the dependencies, and update the local Manifest.toml file. When you delete Manifest.toml, you have to add the packages again.</p></li><li><p>When cloning a project works without adding the packages again.</p></li></ul><p>So I removed AppliInvoicing, AppliGeneralLedger, and AppliSales from the general repository. This morning I started AppliMaster in Atom. My code in <code>test_remote_channels.jl</code> didn&#39;t work anymore. The two Databases invoicing.sqlite and <code>ledger.sqlite</code> were not created.</p><p>I added the packages AppliInvoicing, AppliGeneralLedger, and AppliSales again to the general repository, and my code was running well. The only explanation I could think of: remote code only looks at the general repository.</p><p>I need to review the documentation on this subject.</p><h3 id="/02/2020-1"><a class="docs-heading-anchor" href="#/02/2020-1">02/02/2020</a><a class="docs-heading-anchor-permalink" href="#/02/2020-1" title="Permalink"></a></h3><p>The pages <code>test_remote_channels.jl</code> and <code>myfunctions.jl</code>, I have embellished with <code>@info</code>. The flow of the data has now become more explicit. The code is on github: <a href="https://github.com/rbontekoe/AppliMaster.jl/blob/master/src/test_remote_channels.jl">test_remote_channels.jl</a>.</p><p>Working with channels runs smoothly. I only run the functions that perform the operations on a different core. The <code>while true</code> loops for <code>task_1</code> and <code>task_2</code> tasks run locally. Should I also run these loops remotely?</p><p>So I had to renumber the subsequent chapters.</p><h3 id="/01/2020-1"><a class="docs-heading-anchor" href="#/01/2020-1">02/01/2020</a><a class="docs-heading-anchor-permalink" href="#/01/2020-1" title="Permalink"></a></h3><p>Today I copied the blog from the AppliGate website to The course environment.</p><p>Things are going well with the course. The following modules are now ready(!):</p><ul><li>AppliMaster - the basic module.</li><li>AppliInvoicing - the application itself.</li><li>AppliSales - sending test orders to AppliInvoicing.</li><li>AppliGeneralLedger - to process journal entries from AppliInvoicing.</li></ul><p>In the last couple of weeks, I have been experimenting with the communication between the different parts. For the time being, I decided to work with Julia&#39;s channels. The implementation is in AppliMaster, <a href="https://github.com/rbontekoe/AppliMaster.jl/blob/master/src/test_remote_channels.jl">test<em>remote</em>channels.jl</a>.</p><h2 id="-3"><a class="docs-heading-anchor" href="#-3">2019</a><a class="docs-heading-anchor-permalink" href="#-3" title="Permalink"></a></h2><h3 id="/05/2019-1"><a class="docs-heading-anchor" href="#/05/2019-1">12/05/2019</a><a class="docs-heading-anchor-permalink" href="#/05/2019-1" title="Permalink"></a></h3><p>Last week I managed to establish an SSH connection between two containers. This week I could finish <a href="https://www.appligate.nl/BAWJ/chapter9/">Chapter 9</a>, <code>Create the Container</code>, more or less. The next step is to test a channel connection between two containers.</p><h3 id="/15/2019-1"><a class="docs-heading-anchor" href="#/15/2019-1">11/15/2019</a><a class="docs-heading-anchor-permalink" href="#/15/2019-1" title="Permalink"></a></h3><p>Almost ready to link www.appligate.nl to rbontekoe.github.io. We have to change the CNAME record at the provider from <a href="http://appligate.appspot.com/">appligate.appspot.com</a> to <a href="https://rbontekoe.github.io/">rbontekoe.github.io</a>.</p><p>We also started with writing the course material for the online training <a href="https://rbontekoe.github.io/BAWJ/">BAWJ</a>.</p><h3 id="/21/2019-1"><a class="docs-heading-anchor" href="#/21/2019-1">10/21/2019</a><a class="docs-heading-anchor-permalink" href="#/21/2019-1" title="Permalink"></a></h3><p>Why not build a website with Documenter.jl? We did it today. When you go to <a href="https://rbontekoe.github.io">AppliGate</a>, you enter our new site. In the meantime, we got more experience with Julia. E.g., we resized Rob&#39;s picture with Images.jl. It was straightforward.</p><pre><code class="language-julia">julia&gt; using Images

julia&gt; img = load(&quot;rob.png&quot;)

julia&gt; img2 = imresize(img, ratio=0.5)

julia&gt; save(&quot;rob2.png&quot;, img2)</code></pre><h3 id="/17/2019-1"><a class="docs-heading-anchor" href="#/17/2019-1">9/17/2019</a><a class="docs-heading-anchor-permalink" href="#/17/2019-1" title="Permalink"></a></h3><p>Reading Think Julia I discovered the package Serialization. While playing with it, I realized that it could solve my CQRS and Event Sourcing problem. With the method serialize, you can create a text representation of an object, that you can store. With deserialize, you do the reverse. Serialize writes to an IOStream, and deserialize reads from it. An IOStream can be an IOBuffer or a file. It makes Event Sourcing easier.</p><p>I also looked at channels. You can use channels to communicate between processes. For the time being, I will use inter CPU-core communication. Later on, I extend it to remote nodes. I only have to expand the methods of createSubscriber and createPublisher.</p><h3 id="/10/2019-1"><a class="docs-heading-anchor" href="#/10/2019-1">9/10/2019</a><a class="docs-heading-anchor-permalink" href="#/10/2019-1" title="Permalink"></a></h3><p>Last week I was busy implementing the database methods. I realized that the domain objects I wanted to keep must have an identification code. So Subscriber, Publisher, and Message got an id. To create the id, I used the hash function with a name and time as a parameter. It had consequences for the documentation. In the example code, I used the tag &#39;jldoctest,&#39; so Documenter could test the example code during the generation of the manual. Because the ids keep changing, I had to give up. Too bad, because I found that a strong point of Documenter.jl. I replaced the test tag &#39;jldoctest&#39; with the language tag &#39;julia.&#39; Maybe there is something to do against continually changing values.</p><p>Infected by the CQRS thought, I decided to add changed domain objects to the database instead of modifying an existing record.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Business Applications with Julia</a><a class="docs-footer-nextpage" href="../chapter1/">1 - Intro Notebook »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 10 March 2020 14:34">Tuesday 10 March 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
