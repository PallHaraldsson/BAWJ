<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>3 - Set up the design · BAWJ</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../"><img class="logo" src="../assets/logo.png" alt="BAWJ logo"/></a><h1>BAWJ</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Business Applications with Julia</a></li><li><a class="toctext" href="../chapter1/">1 - Intro Notebook</a></li><li><a class="toctext" href="../chapter2/">2 - Overview Julia</a></li><li class="current"><a class="toctext" href>3 - Set up the design</a><ul class="internal"><li><a class="toctext" href="#Procedures-1">Procedures</a></li><li><a class="toctext" href="#Domain-Driven-Design-1">Domain Driven Design</a></li><li><a class="toctext" href="#A-review-of-the-procedure-Invoicing-1">A review of the procedure Invoicing</a></li><li><a class="toctext" href="#The-design-1">The design</a></li></ul></li><li><a class="toctext" href="../chapter4/">4 - Implementing the design</a></li><li><a class="toctext" href="../chapter5/">5 - Writing test software</a></li><li><a class="toctext" href="../chapter6/">6 - Creating the modules</a></li><li><a class="toctext" href="../chapter7/">7 - Documenting the modules</a></li><li><a class="toctext" href="../chapter8/">8 - Creating our microservices</a></li><li><a class="toctext" href="../chapter9/">9 - Running the containers</a></li><li><a class="toctext" href="../appendix/">Appendix</a></li><li><a class="toctext" href="../references/">References</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>3 - Set up the design</a></li></ul><a class="edit-page" href="https://github.com/rbontekoe/BAWJ/blob/master/docs/src/chapter3.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>3 - Set up the design</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Set-up-the-design-1" href="#Set-up-the-design-1">3 - Set up the design</a></h1><h3><a class="nav-anchor" id="What-you-will-learn-1" href="#What-you-will-learn-1">What you will learn</a></h3><ul><li><a href="#Set-up-the-design-1">3 - Set up the design</a></li><ul><li><a href="#Procedures-1">Procedures</a></li><li><a href="#Domain-Driven-Design-1">Domain Driven Design</a></li><li><a href="#A-review-of-the-procedure-Invoicing-1">A review of the procedure Invoicing</a></li><li><a href="#The-design-1">The design</a></li></ul></ul><p>We start with an old procedure <code>Invoicing</code> we want to automate. Next, we will look at the requirements set by domain driven design. We end with the <code>design</code> we will implement.</p><h2><a class="nav-anchor" id="Procedures-1" href="#Procedures-1">Procedures</a></h2><p>In 1998 we were delivering Lotus Notes instructor-led training in the Netherlands. We were ISO-9001 certified. ISO is short for the International Organization for Standardization. A part of ISO is the section procedures.</p><p>A procedure describes a workflow. It specifies the activities to be carried out by people or machines and the resources that are required to produce a result.</p><p>An input triggers a process. The output of an process is called a deliverable. It can be a product or data.</p><p>The example I use in the course is the procedure <code>Invoicing</code>.</p><h3><a class="nav-anchor" id="The-course-example-1" href="#The-course-example-1">The course example</a></h3><p>The original procedure.</p><p><strong>Procedure</strong>: Invoicing.</p><p><strong>Input</strong>: A list of students who have shown up in the course-room.</p><table><tr><th style="text-align: left">Nbr</th><th style="text-align: left">Action\Person</th><th style="text-align: left">AOM</th><th style="text-align: left">OM</th><th style="text-align: left">Output</th><th style="text-align: left">Tool</th><th style="text-align: left">Exception</th></tr><tr><td style="text-align: left">1</td><td style="text-align: left">Create invoice per student</td><td style="text-align: left">R</td><td style="text-align: left">A</td><td style="text-align: left">Created and authorized invoices</td><td style="text-align: left">Order file</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">2</td><td style="text-align: left">Archive copy of invoice</td><td style="text-align: left">R</td><td style="text-align: left"></td><td style="text-align: left">Archived copy</td><td style="text-align: left">Accounts Receivable unpaid</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">3</td><td style="text-align: left">Send invoice to customer</td><td style="text-align: left">R</td><td style="text-align: left">I</td><td style="text-align: left">Invoice sent</td><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left">4</td><td style="text-align: left">Booking invoice account receivable</td><td style="text-align: left">R</td><td style="text-align: left">A</td><td style="text-align: left">Booked invoice</td><td style="text-align: left">General ledger</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">5</td><td style="text-align: left">Book paid invoice</td><td style="text-align: left">R</td><td style="text-align: left">A</td><td style="text-align: left">Paid invoice</td><td style="text-align: left">General ledger</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">6</td><td style="text-align: left">Archive paid invoice</td><td style="text-align: left">R</td><td style="text-align: left">I</td><td style="text-align: left">Archived invoice</td><td style="text-align: left">Accounts Receivable paid</td><td style="text-align: left"></td></tr></table><p><strong>Roles</strong>: OM = Office Manage, AOM = Assistant Office Manager.</p><p><strong>Task</strong>: R = Responsible, A = Approves, S = Supports, C = Consults, I = Informed.</p><p><strong>Output</strong>: A paid invoice.</p><p>Lets see how we can automate the procedure with Julia.</p><h2><a class="nav-anchor" id="Domain-Driven-Design-1" href="#Domain-Driven-Design-1">Domain Driven Design</a></h2><p>The trend nowadays is to create application consisting of different unambiguous and autonomous units, running in containers — not depending on other units:</p><ul><li>You can quickly up and downscale containers based on demand.</li><li>The software programmers can use their preferred programming language.</li><li>A unit is the owner of its data.</li></ul><p>If you look at the design like it&#39;s an onion, it&#39;s a core with peels around it. The base consists of Julia.</p><p>The next peel is the domain. There must be coherence between its elements. The experts in this field speak the same language. Most items here are objects. You only use constructs from the core.</p><p>The next layer is the API. Here you only use elements from the core and the domain. The API consists of the functions you use in your program.</p><p>The outer peel is the Infrastructure layer. Its the connection with the external world. It uses the elements in the domain and API and adapters.</p><p>An example is a REST request. If it is in JSON format, you have to convert it to a form you use in your software. After processing the inquiry, you turn it back to JSON. You can do so with adapters. Formally it is called the Ports and Adapters Architecture.</p><p>When you write you the software, you only use these functions in the API and Infrastructure layers.</p><h2><a class="nav-anchor" id="A-review-of-the-procedure-Invoicing-1" href="#A-review-of-the-procedure-Invoicing-1">A review of the procedure Invoicing</a></h2><p>If I look at the Invoicing procedure, I see one domain:</p><ul><li>Account Receivable.</li></ul><p>It receives information from the domain Training Delivery, which produces the list of students who have shown up in the course-room.</p><p>The resources are:</p><ul><li>Order file</li><li>List bank records (CSV)</li><li>General Ledger</li></ul><p>Owner of:</p><ul><li>Invoiced unpaid</li><li>Invoiced paid</li></ul><p>Output</p><ul><li>Invoiced unpaid and paid for General Ledger.</li></ul><h3><a class="nav-anchor" id="Summarized-1" href="#Summarized-1">Summarized</a></h3><p>We send the invoices to the customer by email. We store a (journalized?) copy of the invoices locally. We sent a journalized copy to General Ledger. We need: -	Invoicing module/container,</p><ul><li>Dummy Order file module,</li></ul><p>-	Dummy Training Delivery module, -	Dummy General Ledger module.</p><ul><li>Bank records (CSV file).</li></ul><h2><a class="nav-anchor" id="The-design-1" href="#The-design-1">The design</a></h2><h3><a class="nav-anchor" id="Domain-1" href="#Domain-1">Domain</a></h3><p>The domain objects are:</p><ul><li>InvoiceUnpaid</li><li>InvoicePaid</li><li>MessageListStudents</li></ul><h3><a class="nav-anchor" id="API-Invoicing-1" href="#API-Invoicing-1">API Invoicing</a></h3><p>The API contains of the methods (functions) of the module and only use element of the core or the domain:</p><ul><li>create<em>invoice</em>unpaid</li><li>send_invoice</li><li>update<em>invoice</em>unpaid</li><li>create<em>message</em>invoice</li><li>read_csv</li><li>find_invoice</li><li>create<em>invoice</em>paid</li><li>report</li><li>connect_db</li><li>create</li></ul><h3><a class="nav-anchor" id="Infrastructure-1" href="#Infrastructure-1">Infrastructure</a></h3><ul><li>None for the time being</li></ul><footer><hr/><a class="previous" href="../chapter2/"><span class="direction">Previous</span><span class="title">2 - Overview Julia</span></a><a class="next" href="../chapter4/"><span class="direction">Next</span><span class="title">4 - Implementing the design</span></a></footer></article></body></html>
